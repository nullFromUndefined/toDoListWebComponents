!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){var o=n(1),r=n(2);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1},a=(o(r,i),r.locals?r.locals:{});e.exports=a},function(e,t,n){"use strict";var o,r=function(){return void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o},i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function s(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function c(e,t){for(var n={},o=[],r=0;r<e.length;r++){var i=e[r],c=t.base?i[0]+t.base:i[0],u=n[c]||0,l="".concat(c," ").concat(u);n[c]=u+1;var d=s(l),f={css:i[1],media:i[2],sourceMap:i[3]};-1!==d?(a[d].references++,a[d].updater(f)):a.push({identifier:l,updater:y(f,t),references:1}),o.push(l)}return o}function u(e){var t=document.createElement("style"),o=e.attributes||{};if(void 0===o.nonce){var r=n.nc;r&&(o.nonce=r)}if(Object.keys(o).forEach((function(e){t.setAttribute(e,o[e])})),"function"==typeof e.insert)e.insert(t);else{var a=i(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var l,d=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join("\n")});function f(e,t,n,o){var r=n?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(e.styleSheet)e.styleSheet.cssText=d(t,r);else{var i=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function p(e,t,n){var o=n.css,r=n.media,i=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),i&&btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}var b=null,m=0;function y(e,t){var n,o,r;if(t.singleton){var i=m++;n=b||(b=u(t)),o=f.bind(null,n,i,!1),r=f.bind(null,n,i,!0)}else n=u(t),o=p.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=r());var n=c(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var o=0;o<n.length;o++){var r=s(n[o]);a[r].references--}for(var i=c(e,t),u=0;u<n.length;u++){var l=s(n[u]);0===a[l].references&&(a[l].updater(),a.splice(l,1))}n=i}}}},function(e,t,n){(t=n(3)(!1)).push([e.i,"body {\n  transition: .2s all ease-in;\n}\n\nbody.dark {\n  background: #343a40;\n  color: #fff;\n}\n\nbody.dark hr {\n  border-top: 1px solid rgba(0,0,0,.9);\n}\n\nbody.dark .card {\n  background: #343a40;\n  border: 1px solid rgba(0,0,0,.875);\n}\n\n.heading {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\nli.list-group-item {\n  position: relative;\n}\n\n#openCloseTasks {\n  margin-bottom: 10px;\n}",""]),e.exports=t},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",o=e[3];if(!o)return n;if(t&&"function"==typeof btoa){var r=(a=o,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(c," */")),i=o.sources.map((function(e){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(e," */")}));return[n].concat(i).concat([r]).join("\n")}var a,s,c;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,o){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(o)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(r[a]=!0)}for(var s=0;s<e.length;s++){var c=[].concat(e[s]);o&&r[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},function(e,t,n){"use strict";function o(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}n.r(t),n.d(t,"store",(function(){return y}));var r="function"==typeof Symbol&&Symbol.observable||"@@observable",i=function(){return Math.random().toString(36).substring(7).split("").join(".")},a={INIT:"@@redux/INIT"+i(),REPLACE:"@@redux/REPLACE"+i(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+i()}};function s(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}let c=0;const u={singleTask:{open:!0,title:"Купить хлеб",id:c},openTasks:[]};function l(e,t,n){return e.textContent===t?e.textContent=n:e.textContent=t}n(0);const d=document.querySelector("template"),f=document.importNode(d.content,!0);document.getElementById("input-group").appendChild(f),customElements.define("task-item",class extends HTMLElement{connectedCallback(){const e=this.attachShadow({mode:"open"});e.innerHTML=`\n          <style>\n              .list-group-item {\n                  border-top-width: 0;\n                  position: relative;\n                  display: block;\n                  padding: .75rem 1.25rem;\n                  background-color: #fff;\n                  border: 1px solid rgba(0,0,0,.125);\n              }\n              .redButton {\n                  display: none;\n                  position: absolute;\n                  left: 5px;\n                  top: 5px;\n                  color: white;\n                  width: 50%;\n                  text-align: center;\n                  background-color: #ffc107;\n                  border-color: #ffc107;\n                  border: 1px solid transparent;\n                  padding: .375rem .75rem;\n                  font-size: 1rem;\n                  line-height: 1.5;\n                  border-radius: .25rem;\n                  transition: color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;\n                  overflow: visible;\n              }\n              \n              .yellowButton {\n                  display: none;\n                  position: absolute;\n                  right: 5px;\n                  top: 5px;\n                  width: 45%;\n                  text-align: center;\n                  color: white;\n                  background-color: #ff2c07;\n                  border-color: #ff2c07;\n                  border: 1px solid transparent;\n                  padding: .375rem .75rem;\n                  font-size: 1rem;\n                  line-height: 1.5;\n                  border-radius: .25rem;\n                  transition: color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;\n                  overflow: visible;\n              }\n              \n              .list-group-item:hover button {\n                  display: block;\n              }\n          </style>\n      \n          <li class="list-group-item">\n          ${this.getAttribute("title")}\n          <button ${"true"===this.getAttribute("isopen")?"":'style="display: none;"'} \n              class="redButton" \n              data-action="closeTask" \n              data-id-worked-task="${this.getAttribute("id")}">\n                  Завершено\n          </button>\n          <button \n              class="yellowButton" \n              data-action="deleteTask" \n              data-id-worked-task="${this.getAttribute("id")}">\n                  Удалить задачку\n          </button>\n      \n          </li>`,e.addEventListener("click",e=>{e.stopPropagation(),"deleteTask"===e.target.dataset.action?y.dispatch({type:"DELETE_TASK",payload:e.target.dataset.idWorkedTask}):"closeTask"===e.target.dataset.action&&y.dispatch(function(e){return{type:"CLOSED_TASK",payload:e}}(e.target.dataset.idWorkedTask))})}}),customElements.define("task-list",class extends HTMLElement{connectedCallback(){this.innerHTML='\n          <style>\n              .list-group {\n                display: flex;\n                flex-direction: column;\n                padding-left: 0;\n                margin-bottom: 0;\n                margin-top: 0;\n                box-sizing: border-box;\n              }\n          </style>\n          <ul class="list-group">\n          </ul>\n      '}}),customElements.define("input-task",class extends HTMLElement{connectedCallback(){this.innerHTML='\n          <div class="input-group mb-3">\n            <div class="input-group-prepend">\n                <button class="btn btn-outline-secondary" type="button" id="button-add-task" data-action="createTask">Добавить задачу</button>\n            </div>\n                <input type="text" class="form-control" placeholder="" id="input">\n          </div>\n      ',this.addEventListener("click",e=>{const t=document.getElementById("input");"createTask"===e.target.dataset.action&&t.value.trim()&&y.dispatch({type:"CREATE_TASK",payload:t.value})})}});const p=document.querySelector("#worked ul"),b=document.getElementById("closedTask"),m=document.getElementById("openCloseTasks"),y=function e(t,n,i){var c;if("function"==typeof n&&"function"==typeof i||"function"==typeof i&&"function"==typeof arguments[3])throw new Error(o(0));if("function"==typeof n&&void 0===i&&(i=n,n=void 0),void 0!==i){if("function"!=typeof i)throw new Error(o(1));return i(e)(t,n)}if("function"!=typeof t)throw new Error(o(2));var u=t,l=n,d=[],f=d,p=!1;function b(){f===d&&(f=d.slice())}function m(){if(p)throw new Error(o(3));return l}function y(e){if("function"!=typeof e)throw new Error(o(4));if(p)throw new Error(o(5));var t=!0;return b(),f.push(e),function(){if(t){if(p)throw new Error(o(6));t=!1,b();var n=f.indexOf(e);f.splice(n,1),d=null}}}function g(e){if(!s(e))throw new Error(o(7));if(void 0===e.type)throw new Error(o(8));if(p)throw new Error(o(9));try{p=!0,l=u(l,e)}finally{p=!1}for(var t=d=f,n=0;n<t.length;n++){(0,t[n])()}return e}function h(e){if("function"!=typeof e)throw new Error(o(10));u=e,g({type:a.REPLACE})}function v(){var e,t=y;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(o(11));function n(){e.next&&e.next(m())}return n(),{unsubscribe:t(n)}}})[r]=function(){return this},e}return g({type:a.INIT}),(c={dispatch:g,subscribe:y,getState:m,replaceReducer:h})[r]=v,c}((function(e=u,t){if("CREATE_TASK"===t.type){const n=[...e.openTasks,{open:!0,id:c++,title:t.payload}];return{...e,openTasks:n}}if("DELETE_TASK"===t.type){const n=e.openTasks.filter(e=>e.id!=t.payload);return{...e,openTasks:n}}if("CLOSED_TASK"===t.type){const n=e.openTasks.map(e=>(e.id==t.payload&&(e.open=!1),e));return{...e,openTasks:n}}return e}));function g(e,t,n,o){const r=document.createElement("task-item");r.setAttribute("title",t),r.setAttribute("isopen",o),r.setAttribute("id",n),e.append(r)}y.subscribe(()=>{const e=y.getState();p.innerHTML="",b.innerHTML="",e.openTasks.forEach(e=>{e.open&&g(p,e.title,e.id,e.open),"true"==m.dataset.openBlock&&(e.open||g(b,e.title,e.id,e.open))})}),y.dispatch({type:"INIT_APPLICATION"}),document.getElementById("container").addEventListener("click",e=>{if("false"===e.target.dataset.openBlock){l(m,"Показать завершенные дела","Скрыть завершенные задачи"),e.target.dataset.openBlock="true";const t=y.getState();p.innerHTML="",b.innerHTML="",t.openTasks.forEach(e=>{e.open&&g(p,e.title,e.id,e.open),e.open||g(b,e.title,e.id,e.open)})}else"true"===e.target.dataset.openBlock&&(l(m,"Скрыть завершенные задачи","Показать завершенные дела"),e.target.dataset.openBlock="false",b.innerHTML="")})}]);